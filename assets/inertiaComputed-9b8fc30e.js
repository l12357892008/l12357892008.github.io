import{d as f,j as x,l as y,p as w,g as D,o as g,t as v,w as J,a as d,q as A,s as b,_ as C}from"./index-48cad54f.js";const M=r=>(A("data-v-a1690900"),r=r(),b(),r),X=M(()=>d("span",{class:"ball"},"鼠标拖拽圆盘滑动一下",-1)),Y=f({__name:"inertiaComputed",setup(r){const m=x();let l;y(()=>{const e=m.value;e.style.width="700px",e.style.height="700px";let o=0,t={hasDown:!1,_x:0,_y:0,rotateJ:[],rotateD:0,timeout:0};e.onmousedown=n=>{t.hasDown=!0,cancelAnimationFrame(l),t.rotateD=0,t._x=n.layerX,t._y=n.layerY,e.onmousemove=a=>{clearTimeout(t.timeout),t.timeout=setTimeout(()=>{t.rotateJ=[]},100),h(a.layerX,a.layerY),t._x=a.layerX,t._y=a.layerY}},e.onmouseleave=window.onmouseup=()=>{if(t.hasDown&&(t.hasDown=!1,e.onmousemove=null,t.rotateJ.length>0)){let n=0;t.rotateJ.forEach(a=>{Math.abs(a)>Math.abs(n)&&(n=a)}),t.rotateD=n,t.rotateJ=[],requestAnimationFrame(u)}};const h=(n,a)=>{let _=p({x:t._x-350,y:t._y-350},{x:n-350,y:a-350});o=(o+_)%360,t.rotateJ.length>4&&t.rotateJ.shift(),t.rotateJ.push(_),e.style.transform="rotate("+o+"deg)"},u=()=>{if(!t.hasDown){if(clearTimeout(t.timeout),t.rotateD*=.96,Math.abs(t.rotateD)<.01){cancelAnimationFrame(l);return}o=(o+t.rotateD)%360,e.style.transform="rotate("+o+"deg)",l=requestAnimationFrame(u)}}}),w(()=>{window.onmouseup=null,cancelAnimationFrame(l)});const p=({x:c,y:i},{x:s,y:e})=>{const o=c*s+i*e,t=c*e-i*s;return Math.atan2(t,o)/Math.PI*180};return(c,i)=>{const s=D("a-card");return g(),v(s,{class:"wrap flex-center"},{default:J(()=>[d("div",{ref_key:"box",ref:m,class:"shanxing shanxing1"},null,512),X]),_:1})}}});const I=C(Y,[["__scopeId","data-v-a1690900"]]);export{I as default};
