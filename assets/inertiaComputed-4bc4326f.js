import{d as f,k as x,o as y,q as w,i as D,a as v,v as g,w as J,b as d,s as b,t as A,_ as C}from"./index-4d77b520.js";const M=r=>(b("data-v-a1690900"),r=r(),A(),r),X=M(()=>d("span",{class:"ball"},"鼠标拖拽圆盘滑动一下",-1)),Y=f({__name:"inertiaComputed",setup(r){const m=x();let c;y(()=>{const e=m.value;e.style.width="700px",e.style.height="700px";let o=0,t={hasDown:!1,_x:0,_y:0,rotateJ:[],rotateD:0,timeout:0};e.onmousedown=n=>{t.hasDown=!0,cancelAnimationFrame(c),t.rotateD=0,t._x=n.layerX,t._y=n.layerY,e.onmousemove=a=>{clearTimeout(t.timeout),t.timeout=setTimeout(()=>{t.rotateJ=[]},100),h(a.layerX,a.layerY),t._x=a.layerX,t._y=a.layerY}},e.onmouseleave=window.onmouseup=()=>{if(t.hasDown&&(t.hasDown=!1,e.onmousemove=null,t.rotateJ.length>0)){let n=0;t.rotateJ.forEach(a=>{Math.abs(a)>Math.abs(n)&&(n=a)}),t.rotateD=n,t.rotateJ=[],requestAnimationFrame(u)}};const h=(n,a)=>{let _=p({x:t._x-350,y:t._y-350},{x:n-350,y:a-350});o=(o+_)%360,t.rotateJ.length>4&&t.rotateJ.shift(),t.rotateJ.push(_),e.style.transform="rotate("+o+"deg)"},u=()=>{if(!t.hasDown){if(clearTimeout(t.timeout),t.rotateD*=.96,Math.abs(t.rotateD)<.01){cancelAnimationFrame(c);return}o=(o+t.rotateD)%360,e.style.transform="rotate("+o+"deg)",c=requestAnimationFrame(u)}}}),w(()=>{window.onmouseup=null,cancelAnimationFrame(c)});const p=({x:l,y:i},{x:s,y:e})=>{const o=l*s+i*e,t=l*e-i*s;return Math.atan2(t,o)/Math.PI*180};return(l,i)=>{const s=D("a-card");return v(),g(s,{class:"wrap flex-center"},{default:J(()=>[d("div",{ref_key:"box",ref:m,class:"shanxing shanxing1"},null,512),X]),_:1})}}});const I=C(Y,[["__scopeId","data-v-a1690900"]]);export{I as default};
