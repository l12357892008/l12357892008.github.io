import{_ as A,j as T,l as k,p as F,o as I,c as W,a as q}from"./index-48cad54f.js";const B={__name:"pixelDivide",setup($){const h=T(),D=T();let S;return k(()=>{const d=D.value.clientWidth-10,l=D.value.clientHeight-10,g=200,m=4;let f=[],c=[];const _=h.value;_.style.width=_.width=d,_.style.height=_.height=l;const s=_.getContext("2d");s.font=g+"px Times New Roman";function u(a,e){return Math.floor(Math.random()*(e-a)+a)}function y(){return`rgb(${u(0,200)},${u(0,200)},${u(0,200)})`}function x(a,e,n,t){return-n*(a/=t)*(a-2)+e}function C(a,e,n,t){const o=s.getImageData(a,e,n,t),w=o.data;n=o.width,f=c,c=[];const p=m+1;let i=0;for(let v=0;v<t;v=v+p){const M=v*n*4;for(let X=3;X<n*4;X=X+4*p)if(w[M+X]>0){const r={endX:a+parseInt(X/4)+1,endY:e+v};f[i]?(r.color=f[i].color,r.startX=f[i].startX,r.startY=f[i].startY):(r.color=y(),r.startX=u(0,d),r.startX>a-t/2&&r.startX<a+n+t/2?r.startY=Math.random()>.5?u(0,e-t/2):u(e+t*3/2,l):r.startY=u(0,l)),c.push(r),i++}}s.clearRect(0,0,d,l)}function R(){const a=new Date,e=a.getHours(),n=a.getMinutes(),t=a.getSeconds();let o=(e>9?e:"0"+e)+":";o+=(n>9?n:"0"+n)+":",o+=t>9?t:"0"+t;const w=s.measureText(o).width,p=d/2-w/2,i=l/2+g/2;s.clearRect(0,0,d,l),s.fillText(o,p,i),C(p,i-g,w,g)}function Y(a){if(c.isStart||(Y.startTime=a,c.isStart=!0),c.length>0){s.fillStyle="rgba(255,255,255,0.2)",s.fillRect(0,0,d,l);const e=a-Y.startTime;if(e<=700)for(let n=0;n<f.length;n++){const t=f[n];s.fillStyle=t.color,s.fillRect(x(e,t.endX,t.startX-t.endX,700),x(e,t.endY,t.startY-t.endY,700),m,m)}else{const n=Math.min(e-700,500);for(let t=0;t<c.length;t++){const o=c[t];s.fillStyle=o.color,s.fillRect(x(n,o.startX,o.endX-o.startX,500),x(n,o.startY,o.endY-o.startY,500),m,m)}}e>=2e3&&R()}else R();S=requestAnimationFrame(Y)}S=requestAnimationFrame(Y)}),F(()=>{cancelAnimationFrame(S)}),(d,l)=>(I(),W("div",{class:"wrap",ref_key:"wrap",ref:D},[q("canvas",{ref_key:"canvas",ref:h},null,512)],512))}},j=A(B,[["__scopeId","data-v-311110de"]]);export{j as default};
