import{d as I,j as C,l as P,p as A,g as F,o as V,c as j,a as q,b as D,w as E,i as R,_ as W}from"./index-48cad54f.js";const z=I({__name:"drawTree",setup(H){const l=C(),_=C();let c,i,o=!1;const M=()=>{const e=l.value;e.width=c=_.value.clientWidth,e.height=i=_.value.clientHeight,e.style.width=c+"px",e.style.height=i+"px"};var p=function(e,t,n,f,d,x){if(o)return;const r=l.value.getContext("2d");let g="rgb(96,50,25)";d--<=2&&(g="rgb(0,150,0)");const T=Math.cos(f),y=Math.sin(f);r.strokeStyle=g;let m;function b(s){if(o)return;m=m||s;let a=(s-m)/8/n;a>=1&&(a=1);const w=e+n*a*T,v=t+n*a*y;r.beginPath(),r.moveTo(e,t),r.lineWidth=x,r.lineTo(w,v),r.stroke(),a<1?requestAnimationFrame(b):S()}function S(){if(!o&&d)for(var s=0;s<(d<12?2:3);s++){let a=f+u(-Math.PI/4,0);s%2===0&&(a=f+u(0,Math.PI/4));const w=n*u(.7,.9),v=x*.7,k=u(.7,1),N=e+n*k*T,B=t+n*k*y;p(N,B,w,a,d,v)}}requestAnimationFrame(b)};function u(e,t){return Math.random()*(t-e)+e}const h=()=>{const t=l.value.getContext("2d");o=!0,t.clearRect(0,0,c,i),t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high",t.lineCap="round",setTimeout(()=>{o=!1,t.clearRect(0,0,c,i),p(c/2,i-100,120,-Math.PI/2,14,25)},100)};return P(()=>{M(),h()}),A(()=>{o=!0}),(e,t)=>{const n=F("a-button");return V(),j("div",{class:"wrap",ref_key:"wrap",ref:_},[q("canvas",{ref_key:"canvasDom",ref:l},null,512),D(n,{class:"btn",onClick:h},{default:E(()=>[R("重新生成")]),_:1})],512)}}});const U=W(z,[["__scopeId","data-v-ce270fee"]]);export{U as default};
